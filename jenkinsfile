 pipeline {
   agent any
 
      stages
	{
         stage('checkoutstage')
	{
	steps
	{
	  checkout scm
        }
     }
       stage ('terraform init & plan & apply')
       {
       
        options {
        timeout(time: 1, unit: 'HOURS') 
      }

        steps 
             {
	       checkout scm
               sh ' terraform init /var/lib/jenkins/workspace/terraform asg-lb '
               sh ' terraform plan /var/lib/jenkins/workspace/terraform asg-lb '
               sh ' terraform apply -input = yes /var/lib/jenkins/workspace/terraform asg-lb '
       }
      }
    }
    }
