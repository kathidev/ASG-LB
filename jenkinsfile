 pipeline {
   agent any
 
      stages
	{
         stage('checkoutstage')
	{
	steps
	{
	  checkout scm
        }
     }
       stage ('terraform init & plan & apply')
       {
       
        options {
        timeout(time: 1, unit: 'HOURS') 
      }

        steps 
             {
	       checkout scm
               sh ' terraform init ' 
	       sh ' terraform plan -out plan.out'
               sh ' terraform apply -auto-approve plan.out '
       }
      }
    }
    }
